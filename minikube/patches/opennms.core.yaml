# @author Alejandro Galue <agalue@opennms.org>

- op: replace
  path: /spec/template/spec/containers/0/resources
  value:
    limits:
      memory: 2Gi
    requests:
      memory: 1Gi

- op: replace
  path: /spec/template/spec/initContainers/0/env/3
  value:
    name: CASSANDRA_REPFACTOR
    value: '1'

# Do not use Cassandra
- op: remove
  path: /spec/template/spec/initContainers/0/env/2

# Do not use Cassandra
- op: remove
  path: /spec/template/spec/initContainers/0/env/2

# Do not use Cassandra
- op: remove
  path: /spec/template/spec/initContainers/1

# Do not use Cassandra
- op: replace
  path: /spec/template/spec/initContainers/1/env/0
  value:
    name: TARGETS
    value: postgresql.opennms.svc.cluster.local:5432,kafka.opennms.svc.cluster.local:9092,esdata.opennms.svc.cluster.local:9200

- op: replace
  path: /spec/volumeClaimTemplates/0/spec/storageClassName
  value: standard

- op: replace
  path: /spec/volumeClaimTemplates/0/spec/resources/requests/storage
  value: 64Mi
